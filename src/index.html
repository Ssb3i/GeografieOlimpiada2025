<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Învață pregătirea pentru cutremur printr-un joc educațional interactiv care acoperă scenarii de dinainte, în timpul și după cutremur.">
    <title>Joc de Pregătire pentru Cutremur - Învață să fii în siguranță</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header class="game-header">
        <h1 class="game-title">🌍 Joc de Pregătire pentru Cutremur</h1>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </header>
    
    <main class="game-main" id="game-container">
        <nav class="scene-nav" id="scene-nav">
            <button class="scene-nav__btn scene-nav__btn--active" data-scene="before">Înainte</button>
            <button class="scene-nav__btn" data-scene="during">În timpul</button>
            <button class="scene-nav__btn" data-scene="after">După</button>
        </nav>
        
        <section class="game-content" id="game-content">
            <div class="scene-container" id="scene-container">
                <!-- Scene content will be dynamically loaded here -->
                <div style="padding: 2rem; text-align: center;">
                    <h2>🌍 Se încarcă jocul...</h2>
                    <p>Dacă acest mesaj persistă, este posibil să existe o eroare JavaScript. Verifică consola.</p>
                </div>
            </div>
        </section>
        
        <div class="game-sidebar" id="game-sidebar">
            <div class="score-display">
                <h3>Scor: <span id="current-score">0</span></h3>
            </div>
        
            <div class="hints-panel" id="hints-panel">
                <h4>💡 Sfat</h4>
                <p id="current-hint">Apasă pe elemente pentru a învăța despre pregătirea pentru cutremur!</p>
            </div>
        </div>
        
        <footer class="game-footer">
            <button class="btn btn--primary" id="next-button" disabled>Continuă</button>
            <button class="btn btn--secondary" id="restart-button">Repornește scena</button>
        </footer>
    </main>
    
    <!-- Modal for feedback and education -->
    <div class="modal" id="feedback-modal" role="dialog" aria-hidden="true">
        <div class="modal__content">
            <button class="modal__close" id="modal-close">&times;</button>
            <div class="modal__body" id="modal-body">
                <!-- Conținutul va fi adăugat dinamic -->
            </div>
        </div>
    </div>
    
    <script type="module" src="js/game.js"></script>
    <script>
        window.addEventListener('error', function(e) {
            console.error('Script error:', e.error);
            console.error('Error details:', e.filename, e.lineno, e.colno);
            // Show a simple fallback message
            document.getElementById('scene-container').innerHTML = `
                <div style="padding: 2rem; text-align: center;">
                    <h2>⚠️ Eroare la încărcare</h2>
                    <p>A apărut o problemă la încărcarea jocului. Verifică consola pentru detalii.</p>
                    <p>Eroare: ${e.error.message}</p>
                    <button onclick="location.reload()" style="padding: 0.5rem 1rem; margin-top: 1rem;">Reîncarcă pagina</button>
                </div>
            `;
        });
    </script>
</body>
</html>